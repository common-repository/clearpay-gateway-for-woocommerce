(()=>{"use strict";const e=window.React,a=window.wc.blocksCheckout,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"clearpay-gateway-for-woocommerce/cart-messaging","title":"Clearpay Cart Messaging","category":"widgets","description":"Adds a Clearpay placement to the cart block","keywords":["clearpay","messaging","placement"],"version":"1","textdomain":"clearpay-gateway-for-woocommerce","parent":["woocommerce/cart-totals-block"],"viewScript":["square_marketplace_js","clearpay_cart_messaging"],"editorScript":"file:./editor.js"}'),r=window.wc.wcSettings,o=e=>Array.isArray(e)?e.map((e=>e.sku)).filter((e=>e)):[],c=e=>{if(Array.isArray(e)){const a=e.map((e=>e.extensions?.woo_clearpay?.categories)).flat().filter((e=>e));return[...new Set(a)]}return[]},s=e=>!Array.isArray(e)||!e.some((e=>0==e.extensions?.woo_clearpay?.eligible)),i={metadata:t,component:a=>{if(a?.cart?.cartTotals){const{frontend_is_ready:t,cart_placement_attributes:i}=(()=>{const e=(0,r.getSetting)("clearpay_data",null);return e||console.log("Clearpay initialization data is not available"),e})()||{};if(t){const{cart:{cartTotals:t,cartItems:r}}=a,n={...i,"data-amount":t.total_price/Math.pow(10,t.currency_minor_unit),"data-item-skus":o(r).join(),"data-item-categories":c(r).join(),"data-cart-is-eligible":s(r)};return(0,e.createElement)("div",{class:a.className},(0,e.createElement)("square-placement",{...n}))}}else console.log("Context Cart Unavailable.")}};(0,a.registerCheckoutBlock)(i)})();